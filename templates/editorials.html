{% extends 'base.html' %}

{% block title %}
  <title>Editorials</title>
{% endblock %}

{% block content %}
<div class="container-fluid" style="min-height: 100vh;">
  <div class="row m-2 text-end">
    <form action="{% url 'search_editorial' %}" method="POST">
        {% csrf_token %}
        {% comment %} <select name="searchOption" class="rounded d-block d-sm-inline
          text-center py-1 px-3" >
          <option value="tag">tag</option>
          <option value="judge">judge</option>
        </select> {% endcomment %}
        <input class="rounded d-block d-sm-inline text-center border-1 py-1"
           type="text" name="searchText"
          placeholder="Give problem link"/>
        <button class="btn btn-dark rounded d-block d-sm-inline text-center
          " type="submit" >Search</button>  
        <a href="/addeditorial" class="btn btn-dark rounded d-block d-sm-inline text-center
        " type="button" >Contribute</a>
      </form>
  </div>
  <table class="table table-striped table-hover table-bordered "
  style="min-width: 700px;">
  <thead>
    <tr>
      <th class="text-center">Problem</th>
      <th class="text-center">Tag</th>
      <th class="text-center">OJ name</th>
      <th class="text-center">Contributer</th>
      <th class="text-center">code and solution</th>
    </tr>
  </thead>
  <tbody>
    
      {% for problem in problems %}
     <tr>
      <td><a href="{{ problem.link }}"> {{ problem.name }} </a></td>
      <td>{{problem.tags.0}}{% for tag in problem.tags %}
        {% if not forloop.first %} ,{{ tag }} {% endif %} {% endfor %}</td>
      <td>{{ problem.oj }}</td>
      <td>{{ problem.contributor }}</td>
      <td>
        <button type="button" class="btn btn-outline-dark " data-bs-toggle="modal" data-bs-target="#code">
          Code
        </button>
        <button type="button" class="btn btn-outline-dark" data-bs-toggle="modal" data-bs-target="#solution">
          Solution
        </button>
        <!-- The Modal for code-->
<div class="modal" id="code">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header m-5">
        <h4 class="modal-title">Code</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body mx-5">
        {{problem.code}}
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>

{% comment %} modal for solution {% endcomment %}

<!-- The Modal for code-->
<div class="modal" id="solution">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header m-5">
        <h4 class="modal-title">Code</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- Modal body -->
      <div class="modal-body mx-5">
        {{problem.solution}}
      </div>

      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
      </td>
     
    </tr>
    {% endfor %}
  </tbody>
    
  </table>



  <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
      <li class="page-item">
        <a class="page-link text-dark" href="#" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      <li class="page-item active"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link text-dark" href="#">2</a></li>
      <li class="page-item"><a class="page-link text-dark" href="#">3</a></li>
      <li class="page-item"><a class="page-link text-dark" href="#">...</a></li>
      <li class="page-item"><a class="page-link text-dark" href="#">10</a></li>
      <li class="page-item">
        <a class="page-link text-dark" href="#"
          aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
    </ul>
  </nav>
</div>




{% endblock %}